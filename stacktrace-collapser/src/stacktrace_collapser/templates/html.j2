<!DOCTYPE html>
<html>
<head>
    <title>Stacktrace Collapser</title>
    <style>
        body { font-family: -apple-system, BlinkMacSystemFont, sans-serif; max-width: 1000px; margin: 2em auto; line-height: 1.5; }
        h1 { color: #dc2626; border-bottom: 2px solid #fbbf24; padding-bottom: 0.5em; }
        details { margin: 0.75em 0; border-left: 4px solid #0ea5e9; padding-left: 1em; background: #f8fafc; border-radius: 0.5em; }
        summary { cursor: pointer; font-weight: 600; color: #0369a1; padding: 0.75em; list-style: none; }
        summary::-webkit-details-marker { display: none; }
        .frame-info { color: #64748b; font-family: 'SF Mono', Monaco, monospace; font-size: 0.9em; margin-top: 0.25em; }
        .count { background: #e2e8f0; padding: 0.125em 0.5em; border-radius: 9999px; font-size: 0.85em; }
    </style>
</head>
<body>
    <h1>ðŸ’¥ Collapsed Stack Trace ({{ language | upper }})</h1>
    <p>Generated by <a href="https://github.com/cycoders/code/tree/main/stacktrace-collapser">stacktrace-collapser</a></p>
    {% for frame in frames %}
    <details {{ 'open' if frame.count <= 1 else '' }}>
        <summary>
            {{ loop.index }}. <strong style="color: #0369a1;">{{ frame.func }}</strong>
            <span class="frame-info">({{ frame.short_file }}:{{ frame.line }}{% if frame.col %}:{{ frame.col }}{% endif %})</span>
            {% if frame.count > 1 %}<span class="count">Ã—{{ frame.count }}</span>{% endif %}
        </summary>
        <div class="frame-info">Full path: {{ frame.file }}:{{ frame.line }}{% if frame.col %}:{{ frame.col }}{% endif %}</div>
    </details>
    {% endfor %}
</body>
</html>
